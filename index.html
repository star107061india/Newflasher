<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Pi Multi Claim — Mobile Friendly</title>
<style>
  /* Mobile-first clean UI */
  :root{
    --bg:#0f1720;
    --card:#0b1114;
    --accent:#00e676;
    --muted:#9aa3a8;
    --text:#e6f7ee;
    --danger:#ff6b6b;
    --glass: rgba(255,255,255,0.03);
    --card-border: rgba(255,255,255,0.04);
    --radius:12px;
    --gap:12px;
    --touch:48px;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;color:var(--text);background:linear-gradient(180deg,#081017 0%, #071014 100%);-webkit-font-smoothing:antialiased;}
  .app{max-width:980px;margin:12px auto;padding:12px;}
  header{display:flex;align-items:center;gap:12px;margin-bottom:10px}
  header h1{font-size:18px;margin:0;color:var(--accent);font-weight:700}
  header p{margin:0;color:var(--muted);font-size:13px}

  /* Card */
  .card{background:var(--card);border:1px solid var(--card-border);border-radius:var(--radius);padding:12px;margin-bottom:var(--gap);}
  .row{display:flex;gap:12px;align-items:center}
  .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  label{display:block;font-weight:700;color:#dffbe8;margin-bottom:6px;font-size:13px}
  input[type="text"], input[type="number"], select, textarea, input[type="datetime-local"]{
    width:100%;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:var(--glass);color:var(--text);font-size:14px;
  }
  textarea{min-height:70px;resize:vertical}
  .muted{color:var(--muted);font-size:12px;margin-top:6px}
  .controls{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}

  button{
    background:linear-gradient(180deg,var(--accent),#00cc5a);
    color:#04110a;border:none;padding:10px 14px;border-radius:10px;font-weight:700;cursor:pointer;
    min-height:var(--touch);display:inline-flex;align-items:center;justify-content:center;
    box-shadow:0 6px 18px rgba(0,0,0,0.5);
  }
  button.ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--text)}
  button.gray{background:#2b3133;color:var(--text)}
  .small-btn{padding:8px 10px;border-radius:8px;font-size:13px}

  /* Status and log */
  .status{padding:12px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);border:1px dashed rgba(255,255,255,0.03);margin-bottom:10px}
  .log{height:220px;overflow:auto;background:linear-gradient(180deg, rgba(0,0,0,0.2), rgba(255,255,255,0.01));padding:10px;border-radius:8px;font-family:monospace;font-size:13px;color:#c6f1d4}

  /* Sticky bottom controls on mobile */
  .sticky-controls{position:fixed;left:12px;right:12px;bottom:12px;display:flex;gap:10px;padding:10px;background:linear-gradient(180deg, rgba(5,7,8,0.9), rgba(5,7,8,0.95));border-radius:14px;border:1px solid rgba(255,255,255,0.03);box-shadow:0 12px 40px rgba(0,0,0,0.6);z-index:60}
  .sticky-controls button{flex:1}

  /* Accordions to reduce clutter */
  details{background:transparent;border-radius:10px}
  summary{list-style:none;cursor:pointer;padding:8px;border-radius:8px;display:flex;align-items:center;justify-content:space-between;gap:12px;color:var(--text)}
  summary::-webkit-details-marker{display:none}

  /* Desktop/tablet layouts */
  @media(min-width:760px){
    .top-grid{display:grid;grid-template-columns:1fr 420px;gap:12px}
    .grid-2{grid-template-columns:1fr 1fr}
    .sticky-controls{display:none}
  }

  /* Slight spacing tweaks */
  .label-row{display:flex;align-items:center;gap:8px;justify-content:space-between}
  .muted-inline{color:var(--muted);font-size:12px}
  .small-input{width:84px}
  .chip{display:inline-block;padding:6px 8px;border-radius:999px;background:rgba(255,255,255,0.02);font-size:12px;color:var(--muted)}
</style>
</head>
<body>
  <div class="app">
    <header>
      <div>
        <h1>Pi Multi Claim</h1>
        <p>Mobile-optimized UI — fill fields, schedule, and tap Start</p>
      </div>
      <div style="margin-left:auto;display:flex;gap:8px;align-items:center">
        <button class="small-btn ghost" id="syncTimeButton">Sync</button>
        <button class="small-btn ghost" id="openLogsBtn">Logs</button>
      </div>
    </header>

    <!-- Top grid: main controls + status/log -->
    <div class="top-grid">
      <!-- Left: main configuration -->
      <div>

        <!-- Network config -->
        <div class="card">
          <details open>
            <summary>
              <div style="display:flex;flex-direction:column;gap:2px;">
                <strong>Network Configuration</strong>
                <span class="muted">Choose server & rate limits</span>
              </div>
              <span class="chip">Mainnet</span>
            </summary>

            <div style="margin-top:10px">
              <label>Network</label>
              <select id="networkSelect">
                <option value="mainnet">Mainnet</option>
                <option value="testnet">Testnet</option>
                <option value="local">Local</option>
              </select>

              <div style="height:10px"></div>
              <label>Server (RPC)</label>
              <input type="text" id="serverInput" placeholder="mainnet.pi.network" />

              <div class="controls" style="margin-top:10px">
                <button class="small-btn ghost" id="findServerBtn">Find</button>
                <button class="small-btn ghost" id="autoServerBtn">Auto</button>
                <button class="small-btn ghost" id="importServerBtn">Import</button>
              </div>

              <div style="margin-top:12px" class="label-row">
                <div><small>Limit</small><div><input type="number" id="limitInput" value="500" class="small-input"/></div></div>
                <div><small>Remaining</small><div id="remainingDisplay">500</div></div>
                <div><small>Reset in</small><div id="resetDisplay">--</div></div>
              </div>
            </div>
          </details>
        </div>

        <!-- Seed phrases -->
        <div class="card">
          <details open>
            <summary>
              <div style="display:flex;flex-direction:column;gap:2px;">
                <strong>Seed Phrase (Leaked)</strong>
                <span class="muted">Sender seed — one or multiple</span>
              </div>
              <span class="chip">Sender</span>
            </summary>

            <div style="margin-top:10px">
              <label>Leaked Wallet Secret Key (Sender)</label>
              <textarea id="seedLeakedTextarea" placeholder="paste seed phrase / one per line"></textarea>
              <div class="controls">
                <button class="small-btn ghost" id="importSeedBtn">Import</button>
                <button class="small-btn ghost" id="saveSeedBtn">Save</button>
                <button class="small-btn ghost" id="showSeedBtn">Show</button>
              </div>
            </div>
          </details>

          <details style="margin-top:10px">
            <summary>
              <div style="display:flex;flex-direction:column;gap:2px;">
                <strong>Seed Phrase Fee Payer(s)</strong>
                <span class="muted">Sponsors that pay fees</span>
              </div>
              <span class="chip">Sponsors</span>
            </summary>

            <div style="margin-top:10px">
              <label>Seed Phrase Fee Payer (one per line)</label>
              <textarea id="seedFeeTextarea" placeholder="sponsor seed phrases..."></textarea>
              <div class="controls">
                <button class="small-btn ghost" id="importFeeListBtn">Import</button>
                <button class="small-btn ghost" id="saveFeeListBtn">Save</button>
                <button class="small-btn ghost" id="showFeeListBtn">Show</button>
              </div>
            </div>
          </details>
        </div>

        <!-- Availability & Addresses -->
        <div class="card">
          <details>
            <summary>
              <div style="display:flex;flex-direction:column;gap:2px;">
                <strong>Availability & Addresses</strong>
                <span class="muted">Quick counts and receiver</span>
              </div>
              <span class="chip">Info</span>
            </summary>

            <div style="margin-top:10px" class="grid-2">
              <div>
                <label>Pi Leaked Availability</label>
                <input type="number" id="piLeakedAvailabilityInput" value="1" />
              </div>
              <div>
                <label>Pi Fee Availability</label>
                <input type="number" id="piFeeAvailabilityInput" value="1" />
              </div>
              <div>
                <label>Pi Leaked Address</label>
                <input type="text" id="piLeakedAddressInput" placeholder="optional leaked address" />
              </div>
              <div>
                <label>Pi Fee Address</label>
                <input type="text" id="piFeeAddressInput" placeholder="optional fee payer address" />
              </div>
            </div>
          </details>
        </div>

        <!-- Process config -->
        <div class="card">
          <details>
            <summary>
              <div>
                <strong>Process Configuration</strong>
                <span class="muted">Records & receive address</span>
              </div>
              <span class="chip">Process</span>
            </summary>

            <div style="margin-top:10px" class="grid-2">
              <div>
                <label>Number transaction records</label>
                <input type="number" id="numberTransactionRecordsInput" value="1000" />
              </div>
              <div>
                <label>Pi Receive Availability</label>
                <input type="number" id="piReceiveAvailabilityInput" value="1" />
              </div>
              <div style="grid-column:1/-1">
                <label>Pi Address Receive</label>
                <input type="text" id="piReceiveAddressInput" placeholder="Receiver address (your wallet)" />
              </div>
            </div>

            <div style="margin-top:10px" class="controls">
              <button class="small-btn ghost" id="excelButton">Excel</button>
              <button class="small-btn ghost" id="openLogsBtn2">Open Logs</button>
            </div>
          </details>
        </div>

        <!-- Attack & timing -->
        <div class="card">
          <details open>
            <summary>
              <div>
                <strong>Target & Timing</strong>
                <span class="muted">Schedule exact unlock & early call</span>
              </div>
              <span class="chip">Timing</span>
            </summary>

            <div style="margin-top:10px">
              <label>Schedule Time</label>
              <div style="display:flex;gap:8px">
                <input type="datetime-local" id="scheduleTimeInput" />
                <input type="number" id="scheduleTimeSecondsInput" min="0" max="59" value="0" class="small-input" />
              </div>

              <div style="height:8px"></div>

              <label>Unlock Time</label>
              <div style="display:flex;gap:8px">
                <input type="datetime-local" id="unlockTimeInput" />
                <input type="number" id="unlockTimeSecondsInput" min="0" max="59" value="0" class="small-input" />
              </div>

              <div style="height:8px"></div>
              <div class="grid-2">
                <div>
                  <label>Early Call (ms)</label>
                  <input type="number" id="earlyCallTimeInput" value="80" />
                </div>
                <div>
                  <label>Fee Multiplier</label>
                  <input type="number" id="feeMultiplierInput" value="2" />
                </div>
              </div>
            </div>
          </details>

          <details style="margin-top:10px">
            <summary>
              <div>
                <strong>Fee Strategy & Attack</strong>
                <span class="muted">Auto-bump, mode, retry</span>
              </div>
              <span class="chip">Fees</span>
            </summary>

            <div style="margin-top:10px" class="grid-2">
              <div>
                <label>Fee Bump per Retry (%)</label>
                <input type="number" id="feeBumpPercentInput" value="15" />
              </div>
              <div>
                <label>Max Fee Multiplier</label>
                <input type="number" id="maxFeeMultiplierInput" value="6" />
              </div>

              <div>
                <label>Submission Mode</label>
                <select id="submissionMode">
                  <option value="parallel">All Sponsors (Parallel)</option>
                  <option value="roundrobin">One-by-One (Round Robin)</option>
                </select>
              </div>

              <div>
                <label>Records Per Attempt</label>
                <input type="number" id="recordsPerAttemptInput" value="1" />
              </div>

              <div>
                <label>Auto Retry (sec)</label>
                <input type="number" id="autoRetrySecondsInput" value="0" />
                <small class="muted">0 = retry until success/stop</small>
              </div>

              <div>
                <label>Retry Delay (ms)</label>
                <input type="number" id="retryDelayInput" value="200" />
              </div>
            </div>

            <div style="margin-top:12px;display:flex;gap:10px">
              <button id="startButton">Start Attack</button>
              <button id="stopButton" class="gray" disabled>Stop Attack</button>
            </div>
          </details>
        </div>

      </div>

      <!-- Right: status + log -->
      <div>
        <div class="card">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div>
              <div style="font-weight:800">STATUS</div>
              <div id="statusDisplay" class="muted">WAITING</div>
            </div>
            <div style="text-align:right">
              <div style="font-size:12px;color:var(--muted)">ATTEMPTS</div>
              <div id="attemptCounter" style="font-size:20px;font-weight:800">0</div>
            </div>
          </div>

          <div style="height:12px"></div>
          <div id="logBox" class="log"></div>
        </div>

        <div style="height:12px"></div>

        <div class="card">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div>
              <div style="font-weight:800">Quick Actions</div>
              <div class="muted">Import / Sync / Export</div>
            </div>
            <div style="display:flex;flex-direction:column;gap:8px">
              <button class="small-btn ghost" id="importSeedBtn2">Import</button>
              <button class="small-btn ghost" id="excelButton2">Excel</button>
            </div>
          </div>
        </div>

      </div>
    </div>

    <!-- Sticky controls for small screens -->
    <div class="sticky-controls" aria-hidden="false" id="stickyControls">
      <button id="stickyStart">Start</button>
      <button id="stickyStop" class="gray" disabled>Stop</button>
    </div>

    <footer style="padding:12px 0;text-align:center;color:var(--muted);font-size:13px;margin-top:16px">
      Pi Multi Claim — mobile-friendly UI • Backend endpoints must be available
    </footer>
  </div>

<script>
/* ---------- Preserve original JS hooks & behavior (selectors kept same) ---------- */
/* Map new IDs to el object used earlier */
const elRef = {
  seedLeakedTextarea: document.getElementById('seedLeakedTextarea'),
  seedFeeTextarea: document.getElementById('seedFeeTextarea'),
  fetchBalancesButton: document.getElementById('findServerBtn'), // placeholder
  claimableId: null, // many older handlers used claimableId select — if you need, add it
  piReceiveAddressInput: document.getElementById('piReceiveAddressInput'),
  scheduleTimeInput: document.getElementById('scheduleTimeInput'),
  scheduleTimeSecondsInput: document.getElementById('scheduleTimeSecondsInput'),
  unlockTimeInput: document.getElementById('unlockTimeInput'),
  unlockTimeSecondsInput: document.getElementById('unlockTimeSecondsInput'),
  earlyCall: document.getElementById('earlyCallTimeInput'),
  feeMultiplier: document.getElementById('feeMultiplierInput'),
  feeBumpPercent: document.getElementById('feeBumpPercentInput'),
  maxFeeMultiplier: document.getElementById('maxFeeMultiplierInput'),
  submissionMode: document.getElementById('submissionMode'),
  autoRetrySeconds: document.getElementById('autoRetrySecondsInput'),
  retryDelay: document.getElementById('retryDelayInput'),
  recordsPerAttempt: document.getElementById('recordsPerAttemptInput'),
  start: document.getElementById('startButton'),
  stop: document.getElementById('stopButton'),
  stickyStart: document.getElementById('stickyStart'),
  stickyStop: document.getElementById('stickyStop'),
  statusDisplay: document.getElementById('statusDisplay'),
  attemptCounter: document.getElementById('attemptCounter'),
  logBox: document.getElementById('logBox'),
  syncTimeButton: document.getElementById('syncTimeButton'),
  openLogsBtn: document.getElementById('openLogsBtn'),
};

/* Simple helpers (same pattern as before) */
function appendLog(type, msg){
  const t = new Date().toLocaleTimeString();
  const el = document.getElementById('logBox');
  el.innerHTML += `<div style="margin-bottom:6px"><span style="color:#9aa3a8">[${t}]</span> <span>${msg}</span></div>`;
  el.scrollTop = el.scrollHeight;
}
function setStatus(txt){ document.getElementById('statusDisplay').textContent = txt; }
function setAttempts(n){ document.getElementById('attemptCounter').textContent = n; }

/* Wire up quick buttons */
elRef.start.addEventListener('click', ()=>{ appendLog('info','Start pressed'); setStatus('SCHEDULED'); elRef.stickyStart.disabled=true; elRef.stickyStop.disabled=false; });
elRef.stop.addEventListener('click', ()=>{ appendLog('info','Stop pressed'); setStatus('STOPPED'); elRef.stickyStart.disabled=false; elRef.stickyStop.disabled=true; });

elRef.stickyStart.addEventListener('click', ()=> elRef.start.click());
elRef.stickyStop.addEventListener('click', ()=> elRef.stop.click());

document.getElementById('syncTimeButton').addEventListener('click', ()=> appendLog('info','Sync time (implement backend call)'));
document.getElementById('openLogsBtn').addEventListener('click', ()=> appendLog('info','Open logs (implement)'));

/* Show initial help */
appendLog('info','Mobile UI ready. Fill fields and press Start. Backend endpoints (getClaimableBalances/submitTransaction) must be configured on server.');
</script>
</body>
</html>
